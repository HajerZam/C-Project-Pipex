
# Compiler and flags
CC = gcc
CFLAGS = -Wall -Wextra -Werror -g -gdwarf-4

# Output binary name
NAME = pipex

# Directories
SRC_DIR = src
INC_DIR = include
LIBFT_DIR = libft
PRINTF_DIR = ft_printf

# Source files
SRC_FILES = pipex.c pipex_utils.c pipex_helper.c
SRCS = $(addprefix $(SRC_DIR)/, $(SRC_FILES))

# Object files from libraries
LIBFT_FILES = $(wildcard $(LIBFT_DIR)/*.c)
LIBFT_OBJS = $(LIBFT_FILES:.c=.o)

PRINTF_FILES = $(wildcard $(PRINTF_DIR)/*.c)
PRINTF_OBJS = $(PRINTF_FILES:.c=.o)

# All object files
OBJS = $(SRCS:.c=.o) $(LIBFT_OBJS) $(PRINTF_OBJS)

# Include paths
INCLUDES = -I$(INC_DIR) -I$(LIBFT_DIR) -I$(PRINTF_DIR)

# Colors for terminal output
RESET = \033[0m
BOLD = \033[1m
NAVY = \033[34m        # Dark Blue (Navy)
PINK = \033[35m        # Pink (Magenta)
CYAN = \033[36m        # Cyan

# Emoticons
EMOJI_1 = .ñ•î ›Å Àñüõ∏‚îÄ‚îÄ .‚ú¶
EMOJI_2 = ‡πã‚≠ëüõ∏‡πã‚≠ë
EMOJI_3 = üëΩ‚ãÜÔΩ°¬∞‚ú©

# Default target: Compile everything
all: $(NAME)

# Link the object files to create the executable
$(NAME): $(OBJS)
	@echo "$(CYAN)$(EMOJI_1) Linking object files to create executable...$(RESET)"
	$(CC) $(CFLAGS) $(OBJS) -o $(NAME)
	@echo "$(NAVY)$(EMOJI_3) $(NAME) successfully created!$(RESET)"

# Rule to compile .c files into .o files
%.o: %.c
	@echo "$(PINK)$(EMOJI_2) Compiling $<...$(RESET)"
	$(CC) $(CFLAGS) $(INCLUDES) -c $< -o $@
	@echo "$(CYAN)$(EMOJI_3) Compiled $< successfully!$(RESET)"

# Clean up object files
clean:
	@echo "$(NAVY)$(EMOJI_1) Cleaning object files...$(RESET)"
	rm -f $(OBJS) $(LIBFT_DIR)/*.o $(PRINTF_DIR)/*.o
	@echo "$(CYAN)$(EMOJI_3) Object files cleaned!$(RESET)"

# Full clean (removes object files and the executable)
fclean: clean
	@echo "$(PINK)$(EMOJI_2) Removing the executable...$(RESET)"
	rm -f $(NAME)
	@echo "‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø"
	@echo "‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°ø‚†õ‚¢ª‚£ø‚£ø‚£ø‚£ø‚£ø‚¢ª‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø"
	@echo "‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£∑‚¢†‚£º‚£ø‚£ø‚£ø‚°ü‚°Ä‚¢π‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø"
	@echo "‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°ü‚¢∏‚£ø‚£ø‚£ø‚£ø‚¢É‚¢É‚†∏‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø"
	@echo "‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°á‚£æ‚£ø‚£ø‚£ø‚£ø‚†ú‚¢Ä‚†Ç‚¢ª‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø"
	@echo "‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°ã‚†Ä‚£π‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚†É‚£ø‚£ø‚£ø‚£ø‚†É‚°Ä‚†Ç‚†å‚£∏‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø"
	@echo "‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£∑‚£¨‚°ô‚¢ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚†Ä‚£ø‚£ø‚£ø‚†è‚††‚†Ä‚†Ö‚†Ç‚†Ñ‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø"
	@echo "‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£¶‚°ô‚¢ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚†Ä‚†ü‚°õ‚¢Å‚†Ç‚°ë‚†à‚°Ñ‚¢â‚†ê‚°à‚¢ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø"
	@echo "‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°ü‚†õ‚¢ø‚£ø‚£ø‚£ø‚£ø‚£¶‚°ô‚¢ª‚£ø‚£ø‚£ø‚£ø‚†ø‚†ü‚†ã‚†Ä‚†Å‚°ê‚¢Ä‚†Ç‚†Ä‚†Å‚†ê‚¢Ä‚†Ç‚°ê‚†à‚†ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø"
	@echo "‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°Ñ‚†Ä‚†à‚†õ‚†ø‚£ø‚£ø‚£ø‚†ß‚†à‚†ã‚†â‚†Ñ‚°Ä‚¢Ç‚†°‚¢à‚†ê‚°Ä‚¢Ç‚†ò‚†Ä‚£†‚£¥‚£∂‚£∂‚£¶‚£Ö‚†Ç‚†π‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø"
	@echo "‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°Ñ‚†Ä‚†Ä‚†Ä‚†Ä‚°â‚†Å‚†Ä‚†Ü‚°à‚†ê‚°à‚†Ñ‚¢Ä‚†Ç‚°ê‚¢Ç‚†ê‚°Ä‚¢Ç‚£æ‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°Å‚†í‚†ö‚¢ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø"
	@echo "‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ü‚°†‚†Ä‚†Ä‚†ê‚£Ä‚†Ä‚†Ä‚°ê‚†Ä‚†Å‚††‚†à‚†Ñ‚¢Ç‚†ê‚°®‚†Ä‚†Å‚£æ‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚†ø‚†Å‚°ê‚¢à‚£§‚°õ‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø"
	@echo "‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°Å‚†Ä‚†Ä‚†â‚†Ç‚†Ä‚†ê‚†Ç‚†°‚†à‚†Ä‚†°‚†à‚†Ñ‚†Ç‚†Ñ‚°Å‚†Ä‚°ø‚£ø‚£ø‚£ø‚£ø‚°ø‚†ü‚¢Ä‚†Ç‚†î‚£Ø‚£æ‚£Ω‚°º‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø"
	@echo "‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°ø‚¢É‚¢§‚£¶‚£∂‚£∂‚£Ä‚°†‚°Ä‚†Ä‚†ë‚†Ä‚†Ä‚†°‚†à‚†Ñ‚†°‚£Ä‚†°‚£õ‚°¶‚†â‚°Ä‚¢Ä‚†Ä‚†Ñ‚¢Ç‚†ò‚°à‚†ô‚£â‚£º‚£ü‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø"
	@echo "‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚†É‚††‚¢∏‚£ø‚£ø‚£ø‚£ø‚£ø‚£¶‚†Ñ‚†Ä‚†Ä‚†Ä‚†Ä‚†à‚†Ñ‚†°‚†Ä‚†º‚£ø‚£∑‚¢á‚†ê‚††‚†å‚°ê‚¢à‚†ê‚£†‚°ë‚¢â‚†¶‚£ô‚£Æ‚£Ω‚£ø‚£ø‚£ø‚£ø‚£ø"
	@echo "‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°∑‚†Ä‚¢π‚£ø‚£ø‚£ø‚£ø‚†ø‚†ô‚†Ä‚†Ñ‚††‚†Ä‚†Ä‚†Ä‚†Ä‚†Ñ‚°Å‚¢Ç‚°Ω‚£°‚°Ü‚¢à‚†ê‚††‚¢ê‚°à‚†ê‚°†‚†¥‚†ø‚£ü‚°ø‚£ø‚£û‚†Ω‚¢ª‚£ø‚£ø‚£ø"
	@echo "‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°á‚°Ä‚†®‚†ç‚†â‚†â‚†°‚†Ç‚†Ä‚†å‚††‚†Å‚†Ñ‚†Ä‚°à‚†î‚£®‚¢¥‚£æ‚£ø‚£ø‚†õ‚†Ä‚†à‚¢Ç‚†°‚¢Å‚°∂‚†¥‚†É‚£â‚£°‚£Ω‚†∑‚£ñ‚¢ä‚†±‚£ø‚£ø‚£ø"
	@echo "‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°á‚††‚†ê‚°Ä‚†Ç‚†Ñ‚°Ä‚†Ä‚††‚†à‚†Ä‚†Å‚£Ä‚†Ä‚£ê‚°à‚¢∑‚†õ‚£ø‚£ø‚†ü‚†Ä‚°Ä‚†å‚†í‚†ã‚£©‚£¥‚£¶‚†ø‚†∑‚£ø‚¢ø‚°ø‚£Ø‚¢è‚†∂‚£π‚£ø‚£ø"
	@echo "‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ß‚†Ä‚°°‚¢Ä‚†Å‚¢Ç‚†ê‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†à‚†£‚¢ê‚††‚¢π‚°Ñ‚†è‚°Ä‚¢Ç‚°ê‚¢à‚†∞‚£â‚£ª‚£Ω‚£∑‚£ø‚£ø‚£ø‚£æ‚£∂‚£ß‚†é‚°î‚¢§‚£ª‚£ø"
	@echo "‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°Ü‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Å‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†ô‚£ø‚°Ñ‚°Ñ‚¢°‚†ê‚†Ä‚¢£‚°ú‚¢≥‚£ø‚£æ‚£ø‚°ù‚£æ‚£ø‚£Ω‚°é‚¢±‚†ä‚£ß‚£ø‚£ø"
	@echo "‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ü‚£Ü‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚°à‚†ê‚£ø‚£ø‚£∂‚£∂‚£æ‚£∑‚£∂‚£∑‚£ø‚£ø‚°ü‚£é‚¢∑‚£ª‚£ü‚°∑‚¢≠‚°£‚¢è‚°¥‚¢ç‚†ø"
	@echo "‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£∑‚°Ñ‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢Ñ‚†õ‚°õ‚†ç‚†ª‚†ø‚°ø‚¢ø‚†ø‚£ø‚°ª‚¢ß‚°ô‚°ú‚£æ‚£π‚†æ‚£è‚¢á‚†õ‚°ñ‚¢†‚†à‚°Ä"
	@echo "‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°ø‚£ø‚°ø‚£õ‚£≠‚£∑‚£ø‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Å‚¢Ç‚†ê‚††‚†à‚†Ñ‚°ë‚†à‚†Ñ‚°ô‚†¥‚£â‚¢¶‚†±‚£ç‚†∂‚£≠‚¢ª‚†Ü‚£é‚†≥‚†à‚†Ñ‚†Ç‚†Ñ"
	@echo "‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£æ‚£ø‚£ø‚£ø‚£ø‚£á‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†à‚†Ä‚†Å‚†Ç‚†Ñ‚°Å‚¢Ç‚†ê‚†å‚°í‚¢é‚†≥‚£å‚†õ‚°¥‚£ü‚°¨‚£Ñ‚†Ç‚†°‚†à‚††‚†Ä"
	@echo "‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£∑‚°Ñ‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†ê‚††‚†ê‚††‚¢à‚†ê‚°à‚†Ñ‚°Å‚†¶‚¢ô‚°ò‚†°‚†à‚†Ñ‚†à‚†Ñ‚†ê‚†Ä‚†Ä"
	@echo "‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£∑‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ç‚†Ñ‚¢Ç‚†ê‚††‚†ê‚°ê‚††‚¢Å‚†Ç‚°Å‚††‚†Ä‚††‚†Ä‚†Ä‚†Ç"
	@echo "‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚†Ç‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢Ä‚††‚†à‚†Ñ‚†°‚°à‚†Ñ‚†å‚°ê‚¢Å‚†Ç‚°Å‚¢Ç‚†ê‚°Ä‚†Ç‚†Ñ‚°Å‚††‚†Å‚†Ñ"
	@echo "‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°á‚†ê‚††‚†Ä‚†Ñ‚°Ä‚¢Ä‚†Ä‚°ê‚¢à‚†ê‚°à‚†Ñ‚¢Ç‚†°‚†å‚°ê‚†ò‚°Ä‚†Ç‚†î‚°à‚†ê‚°Ä‚¢Ç‚†ê‚††‚¢Å‚†Ç‚†Ñ‚°Å‚†ê‚°Ä"
	@echo "\n \n \n"
	@echo "$(CYAN)$(EMOJI_3) Executable $(NAME) removed!$(RESET)"

# Rebuild everything (clean and then all)
re: fclean
	@echo "$(NAVY)$(EMOJI_1) Rebuilding everything...$(RESET)"
	$(MAKE) all

# Declare non-file targets to avoid conflicts
.PHONY: all clean fclean re
